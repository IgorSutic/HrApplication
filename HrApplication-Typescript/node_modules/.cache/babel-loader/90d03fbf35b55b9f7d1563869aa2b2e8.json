{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/scheduler/tooltip_strategies/mobileTooltipStrategy.js)\r\n * Version: 21.1.6\r\n * Build date: Mon Sep 27 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Overlay from \"../../overlay/ui.overlay\";\nimport { TooltipStrategyBase } from \"./tooltipStrategyBase\";\nimport { getWindow } from \"../../../core/utils/window\";\nimport $ from \"../../../core/renderer\";\nvar SLIDE_PANEL_CLASS_NAME = \"dx-scheduler-overlay-panel\";\nvar MAX_TABLET_OVERLAY_HEIGHT_FACTOR = .9;\nvar MAX_HEIGHT = {\n  PHONE: 250,\n  TABLET: \"90%\",\n  DEFAULT: \"auto\"\n};\nvar MAX_WIDTH = {\n  PHONE: \"100%\",\n  TABLET: \"80%\"\n};\nvar animationConfig = {\n  show: {\n    type: \"slide\",\n    duration: 300,\n    from: {\n      position: {\n        my: \"top\",\n        at: \"bottom\",\n        of: getWindow()\n      }\n    },\n    to: {\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: getWindow()\n      }\n    }\n  },\n  hide: {\n    type: \"slide\",\n    duration: 300,\n    to: {\n      position: {\n        my: \"top\",\n        at: \"bottom\",\n        of: getWindow()\n      }\n    },\n    from: {\n      position: {\n        my: \"center\",\n        at: \"center\",\n        of: getWindow()\n      }\n    }\n  }\n};\n\nvar createPhoneDeviceConfig = listHeight => ({\n  shading: false,\n  width: MAX_WIDTH.PHONE,\n  height: listHeight > MAX_HEIGHT.PHONE ? MAX_HEIGHT.PHONE : MAX_HEIGHT.DEFAULT,\n  position: {\n    my: \"bottom\",\n    at: \"bottom\",\n    of: getWindow()\n  }\n});\n\nvar createTabletDeviceConfig = listHeight => {\n  var currentMaxHeight = $(getWindow()).height() * MAX_TABLET_OVERLAY_HEIGHT_FACTOR;\n  return {\n    shading: true,\n    width: MAX_WIDTH.TABLET,\n    height: listHeight > currentMaxHeight ? MAX_HEIGHT.TABLET : MAX_HEIGHT.DEFAULT,\n    position: {\n      my: \"center\",\n      at: \"center\",\n      of: getWindow()\n    }\n  };\n};\n\nexport class MobileTooltipStrategy extends TooltipStrategyBase {\n  _shouldUseTarget() {\n    return false;\n  }\n\n  _onShowing() {\n    var isTabletWidth = $(getWindow()).width() > 700;\n\n    this._tooltip.option(\"height\", MAX_HEIGHT.DEFAULT);\n\n    var listHeight = this._list.$element().outerHeight();\n\n    this._tooltip.option(isTabletWidth ? createTabletDeviceConfig(listHeight) : createPhoneDeviceConfig(listHeight));\n  }\n\n  _createTooltip(target, dataList) {\n    var element = this._createTooltipElement(SLIDE_PANEL_CLASS_NAME);\n\n    return this._options.createComponent(element, Overlay, {\n      target: getWindow(),\n      closeOnOutsideClick: true,\n      animation: animationConfig,\n      onShowing: () => this._onShowing(),\n      onShown: this._onShown.bind(this),\n      contentTemplate: this._getContentTemplate(dataList)\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/igor/node_modules/devextreme/esm/ui/scheduler/tooltip_strategies/mobileTooltipStrategy.js"],"names":["Overlay","TooltipStrategyBase","getWindow","$","SLIDE_PANEL_CLASS_NAME","MAX_TABLET_OVERLAY_HEIGHT_FACTOR","MAX_HEIGHT","PHONE","TABLET","DEFAULT","MAX_WIDTH","animationConfig","show","type","duration","from","position","my","at","of","to","hide","createPhoneDeviceConfig","listHeight","shading","width","height","createTabletDeviceConfig","currentMaxHeight","MobileTooltipStrategy","_shouldUseTarget","_onShowing","isTabletWidth","_tooltip","option","_list","$element","outerHeight","_createTooltip","target","dataList","element","_createTooltipElement","_options","createComponent","closeOnOutsideClick","animation","onShowing","onShown","_onShown","bind","contentTemplate","_getContentTemplate"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/scheduler/tooltip_strategies/mobileTooltipStrategy.js)\r\n * Version: 21.1.6\r\n * Build date: Mon Sep 27 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Overlay from \"../../overlay/ui.overlay\";\r\nimport {\r\n    TooltipStrategyBase\r\n} from \"./tooltipStrategyBase\";\r\nimport {\r\n    getWindow\r\n} from \"../../../core/utils/window\";\r\nimport $ from \"../../../core/renderer\";\r\nvar SLIDE_PANEL_CLASS_NAME = \"dx-scheduler-overlay-panel\";\r\nvar MAX_TABLET_OVERLAY_HEIGHT_FACTOR = .9;\r\nvar MAX_HEIGHT = {\r\n    PHONE: 250,\r\n    TABLET: \"90%\",\r\n    DEFAULT: \"auto\"\r\n};\r\nvar MAX_WIDTH = {\r\n    PHONE: \"100%\",\r\n    TABLET: \"80%\"\r\n};\r\nvar animationConfig = {\r\n    show: {\r\n        type: \"slide\",\r\n        duration: 300,\r\n        from: {\r\n            position: {\r\n                my: \"top\",\r\n                at: \"bottom\",\r\n                of: getWindow()\r\n            }\r\n        },\r\n        to: {\r\n            position: {\r\n                my: \"center\",\r\n                at: \"center\",\r\n                of: getWindow()\r\n            }\r\n        }\r\n    },\r\n    hide: {\r\n        type: \"slide\",\r\n        duration: 300,\r\n        to: {\r\n            position: {\r\n                my: \"top\",\r\n                at: \"bottom\",\r\n                of: getWindow()\r\n            }\r\n        },\r\n        from: {\r\n            position: {\r\n                my: \"center\",\r\n                at: \"center\",\r\n                of: getWindow()\r\n            }\r\n        }\r\n    }\r\n};\r\nvar createPhoneDeviceConfig = listHeight => ({\r\n    shading: false,\r\n    width: MAX_WIDTH.PHONE,\r\n    height: listHeight > MAX_HEIGHT.PHONE ? MAX_HEIGHT.PHONE : MAX_HEIGHT.DEFAULT,\r\n    position: {\r\n        my: \"bottom\",\r\n        at: \"bottom\",\r\n        of: getWindow()\r\n    }\r\n});\r\nvar createTabletDeviceConfig = listHeight => {\r\n    var currentMaxHeight = $(getWindow()).height() * MAX_TABLET_OVERLAY_HEIGHT_FACTOR;\r\n    return {\r\n        shading: true,\r\n        width: MAX_WIDTH.TABLET,\r\n        height: listHeight > currentMaxHeight ? MAX_HEIGHT.TABLET : MAX_HEIGHT.DEFAULT,\r\n        position: {\r\n            my: \"center\",\r\n            at: \"center\",\r\n            of: getWindow()\r\n        }\r\n    }\r\n};\r\nexport class MobileTooltipStrategy extends TooltipStrategyBase {\r\n    _shouldUseTarget() {\r\n        return false\r\n    }\r\n    _onShowing() {\r\n        var isTabletWidth = $(getWindow()).width() > 700;\r\n        this._tooltip.option(\"height\", MAX_HEIGHT.DEFAULT);\r\n        var listHeight = this._list.$element().outerHeight();\r\n        this._tooltip.option(isTabletWidth ? createTabletDeviceConfig(listHeight) : createPhoneDeviceConfig(listHeight))\r\n    }\r\n    _createTooltip(target, dataList) {\r\n        var element = this._createTooltipElement(SLIDE_PANEL_CLASS_NAME);\r\n        return this._options.createComponent(element, Overlay, {\r\n            target: getWindow(),\r\n            closeOnOutsideClick: true,\r\n            animation: animationConfig,\r\n            onShowing: () => this._onShowing(),\r\n            onShown: this._onShown.bind(this),\r\n            contentTemplate: this._getContentTemplate(dataList)\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}